root /app/out;

location / {
  try_files $uri $uri.html $uri/ =404;
  auth_basic           "Protected Site";
  auth_basic_user_file "/app/htpasswd";
}

# This is necessary when `trailingSlash: false`.
# You can omit this when `trailingSlash: true`.
location /blog/ {
    rewrite ^/blog/(.*)$ /blog/$1.html break;
}

error_page 404 /404.html;
location = /404.html {
    internal;
}

